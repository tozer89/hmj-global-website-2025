# Netlify will serve the static site from the repo root
[build]
  publish = "."

# Default (prod) functions directory
[functions]
  directory = "netlify/functions"   # <-- prod/default functions

# Use the shared functions bundle for PR deploy previews
[context.deploy-preview.functions]
  directory = "netlify/functions"

# Be explicit for production (mirrors [functions] above)
[context.production.functions]
  directory = "netlify/functions"

# Also use the shared bundle for branch deploys (non-PR branches)
[context.branch-deploy.functions]
  directory = "netlify/functions"

# If you run `netlify dev` locally this keeps everything consistent
[dev]
  functions = "netlify/functions"
